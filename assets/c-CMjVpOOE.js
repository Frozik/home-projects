import{r as n,a0 as k,a1 as y,i as p,W as L,u as w,a2 as A,w as f,a3 as g,f as h}from"./e-CjUCb2H_.js";import{u as S,D as C,b as v,L as O,c as b,a as D}from"./c-C6YFHrN1.js";import{a as N}from"./c-Betv8s4Z.js";import{selectLayout as T,updateLayout as x}from"./c-Cwmtl09-.js";import"./c-B-r_KkII.js";import"./c-Bm7ieymV.js";import"./c-DQ6-JjNx.js";import"./c-BBJND8LZ.js";function W({onError:t,onRequest:s,onRelease:o}={}){const[c,r]=n.useState(),e=n.useRef(null),a=typeof window<"u"&&"wakeLock"in navigator,u=n.useCallback(async(i="screen")=>{const m=e.current!=null;if(!a)return console.warn("Calling the `request` function has no effect, Wake Lock Screen API isn't supported");if(m)return console.warn("Calling `request` multiple times without `release` has no effect");try{e.current=await navigator.wakeLock.request(i),e.current.onrelease=l=>{r(e.current&&e.current.released||!0),o&&o(l),e.current=null},s&&s(),r(e.current&&e.current.released||!1)}catch(l){t&&t(l)}},[a,s,t,o]),d=n.useCallback(async()=>{const i=e.current==null;if(!a)return console.warn("Calling the `release` function has no effect, Wake Lock Screen API isn't supported");if(i)return console.warn("Calling `release` before `request` has no effect.");e.current&&await e.current.release()},[a]);return{isSupported:a,request:u,released:c,release:d,type:e.current&&e.current.type||void 0}}function _(t){const s=S();return n.useMemo(()=>t(s),[t,s])}function E(){const{request:t,release:s}=W();n.useEffect(()=>(t(),()=>void s()),[t,s])}const M="_container_1iygs_1",P={container:M},V=n.memo(()=>{E();const{registerApi:t,resetApi:s}=_(D),o=k(),c=y(T),[r,e]=n.useState();n.useEffect(()=>{p(r)||r.fromJSON(L(c)?c.value:C)},[r,c]),n.useEffect(()=>{if(p(r))return;const u=r.onDidLayoutChange(()=>o(x(r.toJSON())));return()=>u.dispose()},[r,o]);const a=w(u=>{e(u.api),t(u.api)});return N(()=>s()),A(c)?f.jsx(g,{}):f.jsx(v,{className:h(P.container,"dockview-theme-abyss"),components:O,tabComponents:b,onReady:a,gap:4})});export{V as Pendulum};
