import{r as n,ac as k,ad as y,i as p,a7 as L,u as w,ae as A,H as f,af as g,f as h}from"./e-DQ3AfMkX.js";import{u as S,D as C,b as v,L as O,c as b,a as D}from"./c-dH8JlpoK.js";import{a as N}from"./c-CdYiqoFJ.js";import{selectLayout as T,updateLayout as x}from"./c-DfuYa2Av.js";import"./c-DVJiD5Sw.js";import"./c-BypINRgN.js";import"./c-BKpxF0Wl.js";import"./c-CWJgNEjq.js";import"./c-Ds9FyWx1.js";function _({onError:t,onRequest:s,onRelease:o}={}){const[c,r]=n.useState(),e=n.useRef(null),a=typeof window<"u"&&"wakeLock"in navigator,u=n.useCallback(async(i="screen")=>{const m=e.current!=null;if(!a)return console.warn("Calling the `request` function has no effect, Wake Lock Screen API isn't supported");if(m)return console.warn("Calling `request` multiple times without `release` has no effect");try{e.current=await navigator.wakeLock.request(i),e.current.onrelease=l=>{r(e.current&&e.current.released||!0),o&&o(l),e.current=null},s&&s(),r(e.current&&e.current.released||!1)}catch(l){t&&t(l)}},[a,s,t,o]),d=n.useCallback(async()=>{const i=e.current==null;if(!a)return console.warn("Calling the `release` function has no effect, Wake Lock Screen API isn't supported");if(i)return console.warn("Calling `release` before `request` has no effect.");e.current&&await e.current.release()},[a]);return{isSupported:a,request:u,released:c,release:d,type:e.current&&e.current.type||void 0}}function E(t){const s=S();return n.useMemo(()=>t(s),[t,s])}function M(){const{request:t,release:s}=_();n.useEffect(()=>(t(),()=>void s()),[t,s])}const P="_container_1iygs_1",U={container:P},B=n.memo(()=>{M();const{registerApi:t,resetApi:s}=E(D),o=k(),c=y(T),[r,e]=n.useState();n.useEffect(()=>{p(r)||r.fromJSON(L(c)?c.value:C)},[r,c]),n.useEffect(()=>{if(p(r))return;const u=r.onDidLayoutChange(()=>o(x(r.toJSON())));return()=>u.dispose()},[r,o]);const a=w(u=>{e(u.api),t(u.api)});return N(()=>s()),A(c)?f.jsx(g,{}):f.jsx(v,{className:h(U.container,"dockview-theme-abyss"),components:O,tabComponents:b,onReady:a,gap:4})});export{B as Pendulum};
