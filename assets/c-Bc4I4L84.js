import{r,ad as k,ae as y,i as f,a8 as L,u as g,af as w,J as d,ag as A,f as h}from"./e-DH7rz_zM.js";import{u as S,D as C,b as v,L as O,c as b,a as D}from"./c-O4GO5MHn.js";import{a as N}from"./c-46wMSof6.js";import{selectLayout as T,updateLayout as x}from"./c-CZptA-Y3.js";import"./c-DRK_cRKD.js";import"./c-Ba7zlxjH.js";import"./c-gvmBpoq3.js";import"./c-CSsQXuLJ.js";import"./c-CCm9ESW7.js";function _({onError:t,onRequest:s,onRelease:n}={}){const[c,a]=r.useState(),e=r.useRef(null),o=typeof window<"u"&&"wakeLock"in navigator,u=r.useCallback(async(l="screen")=>{const i=e.current!=null;if(!o)return console.warn("Calling the `request` function has no effect, Wake Lock Screen API isn't supported");if(i)return console.warn("Calling `request` multiple times without `release` has no effect");try{e.current=await navigator.wakeLock.request(l),e.current.onrelease=p=>{a(e.current&&e.current.released||!0),n==null||n(p),e.current=null},s==null||s(),a(e.current&&e.current.released||!1)}catch(p){t==null||t(p)}},[o,s,t,n]),m=r.useCallback(async()=>{var i;const l=e.current==null;if(!o)return console.warn("Calling the `release` function has no effect, Wake Lock Screen API isn't supported");if(l)return console.warn("Calling `release` before `request` has no effect.");await((i=e.current)==null?void 0:i.release())},[o]);return{isSupported:o,request:u,released:c,release:m,type:e.current&&e.current.type||void 0}}function M(t){const s=S();return r.useMemo(()=>t(s),[t,s])}function P(){const{request:t,release:s}=_();r.useEffect(()=>(t(),()=>void s()),[t,s])}const U="_container_1iygs_1",W={container:U},z=r.memo(()=>{P();const{registerApi:t,resetApi:s}=M(D),n=k(),c=y(T),[a,e]=r.useState();r.useEffect(()=>{f(a)||a.fromJSON(L(c)?c.value:C)},[a,c]),r.useEffect(()=>{if(f(a))return;const u=a.onDidLayoutChange(()=>n(x(a.toJSON())));return()=>u.dispose()},[a,n]);const o=g(u=>{e(u.api),t(u.api)});return N(()=>s()),w(c)?d.jsx(A,{}):d.jsx(v,{className:h(W.container,"dockview-theme-abyss"),components:O,tabComponents:b,onReady:o,gap:4})});export{z as Pendulum};
