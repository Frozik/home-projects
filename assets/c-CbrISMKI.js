import{r as n,ad as k,ae as y,i as f,a8 as L,a as h,af as w,ag as A,J as d,ah as g,h as S}from"./e-Ccls8iNJ.js";import{u as C,D as v,b as O,L as b,c as D,a as N}from"./c-dp8MAnNF.js";import{selectLayout as T,updateLayout as x}from"./c-C6XQy_Zt.js";import"./c-BupblzB8.js";import"./c-BS-1DDFW.js";import"./c-BTm5NXAb.js";import"./c-DVBUrQyo.js";import"./c-BI97HbN0.js";function _({onError:t,onRequest:s,onRelease:r}={}){const[o,a]=n.useState(),e=n.useRef(null),c=typeof window<"u"&&"wakeLock"in navigator,u=n.useCallback(async(l="screen")=>{const i=e.current!=null;if(!c)return console.warn("Calling the `request` function has no effect, Wake Lock Screen API isn't supported");if(i)return console.warn("Calling `request` multiple times without `release` has no effect");try{e.current=await navigator.wakeLock.request(l),e.current.onrelease=p=>{a(e.current&&e.current.released||!0),r==null||r(p),e.current=null},s==null||s(),a(e.current&&e.current.released||!1)}catch(p){t==null||t(p)}},[c,s,t,r]),m=n.useCallback(async()=>{var i;const l=e.current==null;if(!c)return console.warn("Calling the `release` function has no effect, Wake Lock Screen API isn't supported");if(l)return console.warn("Calling `release` before `request` has no effect.");await((i=e.current)==null?void 0:i.release())},[c]);return{isSupported:c,request:u,released:o,release:m,type:e.current&&e.current.type||void 0}}function M(t){const s=C();return n.useMemo(()=>t(s),[t,s])}function P(){const{request:t,release:s}=_();n.useEffect(()=>(t(),()=>void s()),[t,s])}const U="_container_lf352_1",W={container:U},B=n.memo(()=>{P();const{registerApi:t,resetApi:s}=M(N),r=k(),o=y(T),[a,e]=n.useState();n.useEffect(()=>{f(a)||a.fromJSON(L(o)?o.value:v)},[a,o]),n.useEffect(()=>{if(f(a))return;const u=a.onDidLayoutChange(()=>r(x(a.toJSON())));return()=>u.dispose()},[a,r]);const c=h(u=>{e(u.api),t(u.api)});return w(()=>s()),A(o)?d.jsx(g,{}):d.jsx(O,{className:S(W.container,"dockview-theme-abyss"),components:b,tabComponents:D,onReady:c,gap:4})});export{B as Pendulum};
