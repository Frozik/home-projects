import{r as n,af as k,ag as y,i as p,aa as L,a as h,ah as w,ai as A,M as d,aj as g,h as S}from"./e-Bikn-kL0.js";import{u as C,D as O,b as v,L as b,c as D,a as N}from"./c-BTgWJ08t.js";import{selectLayout as T,updateLayout as x}from"./c-DqU0umk6.js";import"./c-B4xFDNc5.js";import"./c-R_QjQUJ6.js";import"./c-BRfum6Tg.js";import"./c-CRTA2yPx.js";import"./c-BWZmSN9N.js";function M({onError:t,onRequest:s,onRelease:r}={}){const[o,a]=n.useState(),e=n.useRef(null),c=typeof window<"u"&&"wakeLock"in navigator,u=n.useCallback(async(l="screen")=>{const i=e.current!=null;if(!c)return console.warn("Calling the `request` function has no effect, Wake Lock Screen API isn't supported");if(i)return console.warn("Calling `request` multiple times without `release` has no effect");try{e.current=await navigator.wakeLock.request(l),e.current.onrelease=f=>{a(e.current&&e.current.released||!0),r==null||r(f),e.current=null},s==null||s(),a(e.current&&e.current.released||!1)}catch(f){t==null||t(f)}},[c,s,t,r]),m=n.useCallback(async()=>{var i;const l=e.current==null;if(!c)return console.warn("Calling the `release` function has no effect, Wake Lock Screen API isn't supported");if(l)return console.warn("Calling `release` before `request` has no effect.");await((i=e.current)==null?void 0:i.release())},[c]);return{isSupported:c,request:u,released:o,release:m,type:e.current&&e.current.type||void 0}}function _(t){const s=C();return n.useMemo(()=>t(s),[t,s])}function P(){const{request:t,release:s}=M();n.useEffect(()=>(t(),()=>void s()),[t,s])}const U="_container_lf352_1",W={container:U},B=n.memo(()=>{P();const{registerApi:t,resetApi:s}=_(N),r=k(),o=y(T),[a,e]=n.useState();n.useEffect(()=>{p(a)||a.fromJSON(L(o)?o.value:O)},[a,o]),n.useEffect(()=>{if(p(a))return;const u=a.onDidLayoutChange(()=>r(x(a.toJSON())));return()=>u.dispose()},[a,r]);const c=h(u=>{e(u.api),t(u.api)});return w(()=>s()),A(o)?d.jsx(g,{}):d.jsx(v,{className:S(W.container,"dockview-theme-abyss"),components:b,tabComponents:D,onReady:c,gap:4})});export{B as Pendulum};
