import{r as o,I as ne,_ as re,u as y,w as t,f as T,bQ as ye,i as F,y as ve,a0 as me,a1 as he,bF as ze,bB as Le,V as Se}from"./e-CkP3cP6W.js";import{u as xe}from"./c-DFl0KC5q.js";import{E as S,g as je,a as se,b as D,c as Me,d as Te,p as Ce,s as ke,e as Oe,f as $e,r as Re,l as Ie,h as Pe,i as Fe,m as we,j as Ee}from"./c-CQKJbhYe.js";import{R as P}from"./c-DFMDvu24.js";import"./c-Biqx7K0_.js";import"./c-DnysGmoI.js";var Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},Be=function(a,i){return o.createElement(ne,re({},a,{ref:i,icon:Ne}))},Ge=o.forwardRef(Be),De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},Ve=function(a,i){return o.createElement(ne,re({},a,{ref:i,icon:De}))},He=o.forwardRef(Ve),_e={},V={},H={};Object.defineProperty(H,"__esModule",{value:!0});H.BASE_LAYOUT=void 0;H.BASE_LAYOUT=[[0,1,2,3,4,5,6,7,8],[9,10,11,12,13,14,15,16,17],[18,19,20,21,22,23,24,25,26],[27,28,29,30,31,32,33,34,35],[36,37,38,39,40,41,42,43,44],[45,46,47,48,49,50,51,52,53],[54,55,56,57,58,59,60,61,62],[63,64,65,66,67,68,69,70,71],[72,73,74,75,76,77,78,79,80]];var w={};Object.defineProperty(w,"__esModule",{value:!0});w.DIFFICULTY_LEVELS=void 0;const qe={easy:void 0,medium:void 0,hard:void 0,expert:void 0};w.DIFFICULTY_LEVELS=Object.keys(qe);var q={},A={},E={};Object.defineProperty(E,"__esModule",{value:!0});E.getRandomItem=void 0;const Ae=e=>e[Math.floor(Math.random()*e.length)];E.getRandomItem=Ae;var U={};Object.defineProperty(U,"__esModule",{value:!0});U.rotateLayout0=void 0;const Ue=e=>e;U.rotateLayout0=Ue;var Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.rotateLayout180=void 0;const Ye=e=>e.map(a=>[...a].reverse()).reverse();Y.rotateLayout180=Ye;var C={};Object.defineProperty(C,"__esModule",{value:!0});C.rotateLayout270=void 0;const We=e=>e[0].map((a,i)=>e.map(d=>[...d].reverse()[i]));C.rotateLayout270=We;var k={};Object.defineProperty(k,"__esModule",{value:!0});k.rotateLayout90=void 0;const Qe=e=>e[0].map((a,i)=>e.map(d=>d[i]).reverse());k.rotateLayout90=Qe;Object.defineProperty(A,"__esModule",{value:!0});A.rotateLayout=void 0;const Je=E,Ke=U,Xe=Y,Ze=C,ea=k,aa=e=>(0,Je.getRandomItem)([Ke.rotateLayout0,ea.rotateLayout90,Xe.rotateLayout180,Ze.rotateLayout270])(e);A.rotateLayout=aa;var W={},N={},B={};Object.defineProperty(B,"__esModule",{value:!0});B.getLayoutBands=void 0;const ia=e=>[[e[0],e[1],e[2]],[e[3],e[4],e[5]],[e[6],e[7],e[8]]];B.getLayoutBands=ia;var O={};Object.defineProperty(O,"__esModule",{value:!0});O.sortRandom=void 0;const ta=()=>Math.random()<.5?1:-1;O.sortRandom=ta;Object.defineProperty(N,"__esModule",{value:!0});N.shuffleLayoutBands=void 0;const ca=B,da=O,oa=e=>(0,ca.getLayoutBands)(e).sort(da.sortRandom).flat();N.shuffleLayoutBands=oa;var Q={},G={};Object.defineProperty(G,"__esModule",{value:!0});G.shuffleLayoutRows=void 0;const fa=B,la=O,ga=e=>(0,fa.getLayoutBands)(e).map(a=>a.sort(la.sortRandom)).flat();G.shuffleLayoutRows=ga;Object.defineProperty(Q,"__esModule",{value:!0});Q.shuffleLayoutColumns=void 0;const ha=C,sa=k,ua=G,ba=e=>(0,ha.rotateLayout270)((0,ua.shuffleLayoutRows)((0,sa.rotateLayout90)(e)));Q.shuffleLayoutColumns=ba;var J={};Object.defineProperty(J,"__esModule",{value:!0});J.shuffleLayoutStacks=void 0;const na=C,ra=k,_a=N,pa=e=>(0,na.rotateLayout270)((0,_a.shuffleLayoutBands)((0,ra.rotateLayout90)(e)));J.shuffleLayoutStacks=pa;Object.defineProperty(W,"__esModule",{value:!0});W.shuffleLayout=void 0;const ya=N,va=Q,ma=G,za=J,La=e=>(0,va.shuffleLayoutColumns)((0,ma.shuffleLayoutRows)((0,za.shuffleLayoutStacks)((0,ya.shuffleLayoutBands)(e))));W.shuffleLayout=La;Object.defineProperty(q,"__esModule",{value:!0});q.getLayout=void 0;const Sa=A,xa=W,ja=e=>(0,xa.shuffleLayout)((0,Sa.rotateLayout)(e));q.getLayout=ja;var K={},X={};Object.defineProperty(X,"__esModule",{value:!0});X.getSeedsByDifficulty=void 0;const Ma=(e,a)=>e.filter(i=>!a||i.difficulty===a);X.getSeedsByDifficulty=Ma;Object.defineProperty(K,"__esModule",{value:!0});K.getSeed=void 0;const Ta=E,Ca=X,ka=(e,a)=>(0,Ta.getRandomItem)((0,Ca.getSeedsByDifficulty)(e,a));K.getSeed=ka;var Z={},ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.boardToSequence=void 0;const Oa=e=>e.map(a=>a.join("")).join("");ee.boardToSequence=Oa;var ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.populateLayout=void 0;const $a=(e,a)=>e.map(i=>i.map(d=>a[d]));ae.populateLayout=$a;var ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.replaceTokens=void 0;const Ra=(e,a)=>e.split("").map(i=>a[i]||i).join("");ie.replaceTokens=Ra;Object.defineProperty(Z,"__esModule",{value:!0});Z.getSequence=void 0;const Ia=ee,Pa=ae,Fa=ie,wa=(e,a,i)=>(0,Ia.boardToSequence)((0,Pa.populateLayout)(e,(0,Fa.replaceTokens)(a,i)));Z.getSequence=wa;var te={};Object.defineProperty(te,"__esModule",{value:!0});te.getTokenMap=void 0;const Ea=O,Na=()=>"abcdefghi".split("").sort(Ea.sortRandom).reduce((e,a,i)=>({...e,[a]:String(i+1)}),{});te.getTokenMap=Na;var ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.SEEDS=void 0;ce.SEEDS=[{puzzle:"g--d--caf---g----ii-f--hg-bb-iaedhgc--afcg--d-g-b-----f-d--abc---b------c--h-bfia",solution:"gbhdiecafacegbfdhiidfcahgebbfiaedhgcehafcgibddgcbhiafefidegabchhabifcedgceghdbfia",difficulty:"easy"},{puzzle:"bf-hiac-g-gi------a-hf-g---g-a-fi--ddef---i-b--b-a-g-ff---gbh--hac---------e-cfd-",solution:"bfdhiacegegicbdafhachfegdbighabfiecddefgchiabcibdaeghffdeagbhichacidfbgeibgehcfda",difficulty:"easy"},{puzzle:"hgad-e--b-cbf-ge---df-aih-----i-------d-ecai-g---fa----igadf----fe-i-----h-eg-fd-",solution:"hgadceifbicbfhgeadedfbaihcgcahibdgeffbdgecaihgeihfadbcbigadfchedfecihbgaahcegbfdi",difficulty:"easy"},{puzzle:"-fbe-c----e-----a---g-ihb--gb-fhdc-eid-g-eahbch-----f-----ef-ga-g----e-i--hi-----",solution:"afbegcidhheidfbgacdcgaihbefgbafhdcieidfgceahbchebaidfgbidcefhgafgchdaebieahibgfcd",difficulty:"easy"},{puzzle:"c--d-fgeb---g--i-hg-ih--da-a-g-b-cde-edc--a--b--------i-e-cd-ha-fb-h-e-ch--e-----",solution:"cahdifgebedfgabichgbihecdafahgfbicdefedcghabibicadehfgigebcdfhadfbihaegchcaefgbid",difficulty:"easy"},{puzzle:"bi---ec--eg--h-fbdf--------i-hba-dfe----ehbig--bf-d-h--f-e-a-c-----g-e--cde--f--a",solution:"bidgfecahegcahifbdfhadcbgeiichbagdfedafcehbiggebfidahchfgedaicbabihgcedfcdeibfhga",difficulty:"easy"},{puzzle:"-----ef-ha--bf--ecfe-gc---a----gbch--a--df-b--bi----f-h-af-gidbdf----g--i--c--ha-",solution:"bicdaefghahgbfidecfedgchbiaedfagbchicahidfebggbiehcafdhcafegidbdfbhiagceigecbdhaf",difficulty:"easy"},{puzzle:"--fg--hec-ebc-------h-dfgabb--h-a-fg-g-df-i--f-a---b--hf----ad---if----hc-ea---bi",solution:"dafgbihecgebcahdifichedfgabbidhcaefgegcdfbihafhaigebcdhfgbicadeabifedcghcdeahgfbi",difficulty:"easy"},{puzzle:"-----b-f-e-aih----bi----a----e---i---g-bf--a-----cihg-ic-fdhg-a--h---f-cgef-iad-b",solution:"dhcgabefiefaihcbdgbigdefachcaehgdibfhgibfecadfbdacihgeicbfdhgeaadhebgficgefciadhb",difficulty:"easy"},{puzzle:"e--f-b-------eid-f--h----b-ge-c-fadhab-ihgfe-hc--d----d-g---cf---eg--h-bf---i----",solution:"edcfgbihabgaheidcfifhdcaebggeicbfadhabdihgfechcfadebgidigbahcfecaegfdhibfhbeicgad",difficulty:"easy"},{puzzle:"g-hedcf---i-f--a--e--a-----c--i-deh-i-------g--g--e---a----f--c-cf-e-gi-b-------e",solution:"gahedcfbidicfbgaehefbaihcgdcbaigdehfihebfadcgfdghceiabaeighfbdchcfdebgiabgdcaihfe",difficulty:"medium"},{puzzle:"-di--ac---b-cid-h---h--b-d-----f----h-d----fca---c-i--d----i-e-bh---cd-g-g---fac-",solution:"fdighacbeebgcidfhacahfebgdigecifhbadhidabgefcafbdceighdcabgihefbhfeacdigigehdfacb",difficulty:"medium"},{puzzle:"--ac-i------ah-d---e----i---a-e-bc----g--f--ad---gae--ig-fa------hd-e-g-c-d-b----",solution:"hdaceigfbbifahgdcegecbfdiahfaiedbchgehgicfbdadcbhgaeifigefachbdabhdiefgccfdgbhaei",difficulty:"medium"},{puzzle:"fg----i---h--f-e--e-bd--afh-f--hg--ic------b----f-c-----c-------eiac-gdf-b-----e-",solution:"fgaebhicdihdcfaegbecbdgiafhdfebhgcaicahidefbgbigfacdhegdchefbiaheiacbgdfabfgidhec",difficulty:"medium"},{puzzle:"--d-g-fi---e-ci-d-a----eg-----i---f---bg--ec-e--d--haig----f----ha--------ch-g-e-",solution:"cbdaghfiehgefciadbaifbdeghcdahiecbfgifbghaecdecgdfbhaigeicafdbhbhaeidcgffdchbgiea",difficulty:"medium"},{puzzle:"----d-a---a-ie---di------h-d-e--cg-b-b-e--i----c-i--dh--h-gf--c------b-g--i-ce-a-",solution:"ehfcdgabicabiehfgdigdfbachediehacgfbhbgefdicaafcgibedhbehagfdicfcadhibeggdibcehaf",difficulty:"medium"},{puzzle:"---cfa-ibf---i-------g---f--i--h-cd-gdf--------cd--fb-------bc--gb---dhi---he--g-",solution:"dhecfagibfbgeidhaccaigbhefdbiafhecdggdfbaciehhecdgifbaafhidgbceegbacfdhiicdhebagf",difficulty:"medium"},{puzzle:"a------g-b--di-a-f--e--ahi----a------bae--------ichbaei---de------c-igd-d-h----ci",solution:"aidhefcgbbhgdicaeffcebgahidheiabgdfccbaefdihggdfichbaeiacgdefbhefbchigdadghfabeci",difficulty:"medium"},{puzzle:"----g-------ci--bg-i-de-af-------beh-----fgdi---eb-f----ah--ig---hg-d---cd--a----",solution:"hacfgbdieefdciahbggibdehafcagfidcbehbceahfgdidhiebgfcafbahceigdiehgfdcabcdgbaiehf",difficulty:"medium"},{puzzle:"gfbc---dh-a-------d--a--fi--daifc--ech------f-------c-f---e--b---d-----i--igh-d--",solution:"gfbcieadhiahbdfcegdceaghfibbdaifcghechgebdiafeifhagbcdfgcdeihbahbdfcaegiaeighbdfc",difficulty:"medium"},{puzzle:"-e-fh--a-g----ed---a--b-f---ih----dc--------a----g----b---i---dhc-gf-----g------e",solution:"debfhciagghfiaedcbcaidbgfehaihbefgdcfbgcdiehaedchgabifbfaeihcgdhcegfdabiigdacbhfe",difficulty:"hard"},{puzzle:"----i-b---fc--a-h-eb----i-fcieg--ad---hd-e----d--a----f---b-e-i-------b--h--e----",solution:"hageifbcdifcbdagheebdchgiafciegfbadhaghdcefibbdfiahcegfcahbdegideifgchbaghbaeidfc",difficulty:"hard"},{puzzle:"-------hg-----h-d-a-g---ei--ce--dg--dbf---------bfid--hg---f----d--h---c--a-eg---",solution:"bedfiachgficeghbdaahgdbceificehadgfbdbfgceiahgahbfidcehgbcdfaeiediahbfgccfaieghbd",difficulty:"hard"},{puzzle:"h---f------------i--e---a-h-dhe---a---fh-b----i--c---gf-ga-di--a-i---d-bce------a",solution:"hgcifabdedabgehfciifebdcaghbdheigcafgcfhabeideiadcfhbgfbgahdiecahicgedfbcedfbigha",difficulty:"hard"},{puzzle:"f----dha----b------a------dic---h------c--egb-----------a-----ed--f-ec-g-fg------",solution:"febigdhachdcbfageigaiehcbfdicegbhadfahfcdiegbbgdaefichcbadigfhedihfaecbgefghcbdia",difficulty:"hard"},{puzzle:"c-a---i---b--c--ede----g--c-e---dga--c---b--i--gf-----b-----ei------a-cg--ie----a",solution:"cfahdeigbgbhacifedeidbfgahchebcidgafacfgebhdiidgfahcbebacdgfeihfheibadcgdgiehcbfa",difficulty:"hard"},{puzzle:"--a-i---cc-g-------h--e--a--a---ib---d--f--h-----------i---d-f------g-c-dg---b--h",solution:"beagifhdccfghdaibeihdbecfaghafcgibedgdbafechiecidbhagfaihecdgfbfbeihgdcadgcfabeih",difficulty:"hard"},{puzzle:"i--f--ec------a-fbg-b-i---h-d---ihg-----b---fe---a------d-----i---ie-b-------g---",solution:"iahfdbecgdcehgaifbgfbeicdahbdacfihgechgdbeaifeifgahcbdhbdacfgeifgciedbhaaeibhgfdc",difficulty:"hard"},{puzzle:"--e---c------i--g-------d-hbaf--------cfhe--ie------f-h-d-c-----f-h----c---i-ga--",solution:"fdegbhciaacheidfgbibgcfadehbafdgihcedgcfhebaiehibacgfdhidacfebggfahebidccebidgahf",difficulty:"hard"},{puzzle:"--f-d-i---g--b-a-d--c-a-----c-i---e---eh--g---------ac---------b---i-e----gf--d--",solution:"abfcdhigehgiebfacddecgaibhfgcdifahebfaehcbgdiihbdegfacefabgdcihbdhaicefgcigfhedba",difficulty:"hard"},{puzzle:"-ica------------bh----g--f--g---a---i-e----c-a---f------d--bg------c---e-fg----id",solution:"ficabhdeggeaidfcbhdhbegcifabgfceahdiidebhgacfachdfiegbeadfibghchbigcdfaecfghaebid",difficulty:"expert"},{puzzle:"-h-i------i---------f--bh--b---a--ed-ca------i--f---h--------c----he--f-ab--df---",solution:"ehbicdgafdigafhcbecafegbhdibghcaifedfcadheigbiedfbgahchfebiadcggdihecbfaabcgdfeih",difficulty:"expert"},{puzzle:"-h--c-f-ice-------b--ia--------g-h------e---ff--h---i----b---eh----------ga--f--c",solution:"ahgdcefbiceigfbahdbfdiahcgediefgchabgbhaeidcffachbdeigicfbdagehedbchgifahgaeifbdc",difficulty:"expert"},{puzzle:"a----db---g-c----f--e-f--i---------i----h-f-d--g---ch---b--e-c-ca------h-d-------",solution:"afchidbegigdcebhafhbegfadicfehdgcabibcaehifgddigbafcheghbfdeicacafibgedhediachgfb",difficulty:"expert"},{puzzle:"------c--g-b--a---------g-h---e----gb--id-----i-f---eb----i---c-he-f-d--a------h-",solution:"edhbgicfagfbchaeidicadefgbhhafebcidgbegidhacfdicfaghebfgdhiebaccheafbdgiabigcdfhe",difficulty:"expert"},{puzzle:"---bf-i-------hc-aa----------g------h--c-e----i----bh----f---g--f-----e---hig-a--",solution:"chebfaidgfgdeihcbaabidcgefhbeghdifachafcbegiddicgafbheicafedhgbgfbahcdeiedhigbacf",difficulty:"expert"},{puzzle:"--c-----d---g-i--h-i----b--ace------d--bh----b--f---------e---------bea--d--a--c-",solution:"gecabhifdfbagdicehhidefcbgaaceigdhbfdgfbheaicbhifcagdeiagcefdhbcfhdibeagedbhagfci",difficulty:"expert"},{puzzle:"-----d-h--h-----a-gb------i-----a--g----eh-c--i--d-----ge---a--d----f-----ab--i--",solution:"iacefdghbehdgibcafgbfhacedicehfbadigfdgiehbcaaibcdgfehbgedhiafcdciagfhbehfabceigd",difficulty:"expert"},{puzzle:"-bi-------c----e---------af---eba-----a-i-g------c--i----h-e--d-e------gc-b--f---",solution:"fbiaegdhcachdfbegiedgchibafgicebafdhbhafidgcedfegchaibiafhgecbdhedbacifgcgbidfhea",difficulty:"expert"},{puzzle:"---i--h-bc----b----g----a----gd-----e--h-f------b---ac-c------ha-----id--i--gd---",solution:"deficahgbchagfbdeibgiedhacffagdicbheebchafgididhbegfacgcdabiefhafbcheidghiefgdcba",difficulty:"expert"}];var de={};Object.defineProperty(de,"__esModule",{value:!0});de.validateDifficulty=void 0;const Ba=w,Ga=e=>Ba.DIFFICULTY_LEVELS.includes(e);de.validateDifficulty=Ga;Object.defineProperty(V,"__esModule",{value:!0});V.getSudoku=void 0;const Da=H,Va=w,Ha=q,qa=K,ue=Z,Aa=te,Ua=ce,Ya=de,Wa=e=>{if(e&&!(0,Ya.validateDifficulty)(e))throw new Error(`Invalid difficulty, expected one of: ${Va.DIFFICULTY_LEVELS.join(", ")}`);const a=(0,qa.getSeed)(Ua.SEEDS,e),i=(0,Ha.getLayout)(Da.BASE_LAYOUT),d=(0,Aa.getTokenMap)(),r=(0,ue.getSequence)(i,a.puzzle,d),f=(0,ue.getSequence)(i,a.solution,d);return{puzzle:r,solution:f,difficulty:a.difficulty}};V.getSudoku=Wa;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getSudoku=void 0;var a=V;Object.defineProperty(e,"getSudoku",{enumerable:!0,get:function(){return a.getSudoku}})})(_e);const Qa="4",Ja="1",Ka="10",Xa="_field-container_vez4d_1",Za="_field_vez4d_1",ei="_field--completed_vez4d_18",ai="_field-group_vez4d_22",ii="_cell_vez4d_26",ti="_cell-highlight_vez4d_32",ci="_cell--wrong_vez4d_36",di="_cell--fixed_vez4d_39",oi="_cell--value_vez4d_49",fi="_cell--notes_vez4d_53",li="_note--selected_vez4d_57",gi="_controls_vez4d_61",hi="_control-item_vez4d_70",si="_control-item-notes_vez4d_81",ui="_control-item--selected_vez4d_85",c={"var-field-gap":"4",varFieldGap:Qa,"var-field-group-gap":"1",varFieldGroupGap:Ja,"var-field-controls-margin":"10",varFieldControlsMargin:Ka,"field-container":"_field-container_vez4d_1",fieldContainer:Xa,field:Za,"field--completed":"_field--completed_vez4d_18",fieldCompleted:ei,"field-group":"_field-group_vez4d_22",fieldGroup:ai,cell:ii,"cell-highlight":"_cell-highlight_vez4d_32",cellHighlight:ti,"cell--wrong":"_cell--wrong_vez4d_36",cellWrong:ci,"cell--fixed":"_cell--fixed_vez4d_39",cellFixed:di,"cell--value":"_cell--value_vez4d_49",cellValue:oi,"cell--notes":"_cell--notes_vez4d_53",cellNotes:fi,"note--selected":"_note--selected_vez4d_57",noteSelected:li,controls:gi,"control-item":"_control-item_vez4d_70",controlItem:hi,"control-item-notes":"_control-item-notes_vez4d_81",controlItemNotes:si,"control-item--selected":"_control-item--selected_vez4d_85",controlItemSelected:ui},bi=o.memo(({field:e,tool:a,cellSize:i,hasHistory:d,onRestorePreviousState:r,onChangeTool:f,onMarkField:s,onRestartGame:_})=>{const[u,v]=o.useState(a.type===S.None?S.Pen:a.type),b=y(g=>f({type:u,value:parseInt(g.target.dataset.value,10)})),n=o.useMemo(()=>je(e),[e]),h=y(()=>{const g=u===S.Pen?S.Notes:S.Pen;v(g),F(a.value)?f({type:S.None,value:a.value}):f({type:g,value:a.value})}),l={width:i,height:i,fontSize:Math.trunc(i*.8)},z=Math.trunc(i/3);return t.jsxs("div",{className:c.controls,children:[se(e.size).map(g=>{const L=g*e.size;return t.jsx("div",{className:c.fieldGroup,style:{gridTemplateColumns:`repeat(${e.size}, ${i}px)`,gridColumn:g+1,gridRow:1},children:se(e.size).map(m=>{const p=L+m+1;return t.jsx("div",{className:T(c.controlItem,{[c.controlItemSelected]:p===a.value}),style:l,"data-value":p,"data-used":n.get(p)??0,onClick:b,children:p},m)})},g)}),t.jsxs("div",{className:c.fieldGroup,style:{...l,gridTemplateColumns:`repeat(${e.size}, ${i}px)`,gridColumn:1,gridRow:2},children:[t.jsx("div",{className:c.controlItem,style:{...l,gridColumn:1},onClick:_,children:t.jsx(ye,{})}),d&&t.jsx("div",{className:c.controlItem,style:{...l,gridColumn:2},onClick:r,children:t.jsx(He,{})})]}),t.jsxs("div",{className:c.fieldGroup,style:{...l,gridTemplateColumns:`repeat(${e.size}, ${i}px)`,gridColumn:3,gridRow:2},children:[t.jsx("div",{className:T(c.controlItem,{[c.controlItemSelected]:!F(a.value)}),style:{width:i,height:i,fontSize:u===S.Notes?z:i,gridColumn:2},onClick:h,children:t.jsx(Ge,{})}),t.jsx("div",{className:T(c.controlItem,c.controlItemNotes),style:{fontSize:`${z}px`,gridTemplateColumns:`repeat(${e.size}, ${z}px)`,gridTemplateRows:`repeat(${e.size}, ${z}px)`,gridColumn:3},children:D(e.size).map(([g,L],m)=>t.jsx("div",{style:{gridColumn:L+1,gridRow:g+1},onClick:s,children:m+1},m))})]})]})}),ni=o.memo(({field:e,groupRow:a,groupColumn:i,cellRow:d,cellColumn:r,cellSize:f,selectedCell:s,tool:_,onOverCell:u,onClickCell:v})=>{const b=a*e.size+d,n=i*e.size+r,h=b*e.size**2+n,l=e.cells[h],{type:z,value:g,notes:L,status:m}=l,p=!F(g),$=!ve(L),R=Math.floor(f/e.size),x=!p&&$?{gridTemplateColumns:`repeat(${e.size}, ${R}px)`,gridTemplateRows:`repeat(${e.size}, ${R}px)`}:void 0,j=y(()=>u(b,n)),oe=y(()=>v(b,n));return t.jsx("div",{className:T(c.cell,{[c.cellFixed]:z===Me.Fixed,[c.cellWrong]:m===Te.Wrong,[c.cellHighlight]:p&&g===_.value,[c.cellValue]:p,[c.cellNotes]:!p&&$,[c.cellHovered]:(s==null?void 0:s.row)===b||(s==null?void 0:s.column)===n}),style:{fontSize:`${p||!$?f:R}px`,gridColumn:r+1,gridRow:d+1,...x},onMouseOver:j,onClick:oe,children:F(l.value)?D(e.size).map(([I,fe],le)=>{const M=le+1;return t.jsx("div",{className:T({[c.noteSelected]:M===_.value}),style:{gridColumn:fe+1,gridRow:I+1},children:L.includes(M)?M:void 0},M)}):g})}),ri=o.memo(({field:e,groupGridStyle:a,cellSize:i,selectedCell:d,tool:r,onOverCell:f,onClickCell:s})=>D(e.size).map(([_,u])=>t.jsx("div",{className:c.fieldGroup,style:{...a,gridColumn:u+1,gridRow:_+1},children:D(e.size).map(([v,b])=>t.jsx(ni,{field:e,groupRow:_,groupColumn:u,cellRow:v,cellColumn:b,cellSize:i,selectedCell:d,tool:r,onOverCell:f,onClickCell:s},`${v}:${b}`))},`${_}:${u}`))),be=2,_i=o.memo(({field:e,tool:a,hasHistory:i,onRestorePreviousState:d,onClickCell:r,onChangeTool:f,onMarkField:s,onRestartGame:_})=>{const u=o.useRef(null),{width:v=0,height:b=0}=xe({ref:u,box:"border-box"}),{cellSize:n,groupSize:h,size:l}=o.useMemo(()=>{const x=parseInt(c.varFieldGroupGap,10),j=parseInt(c.varFieldGap,10),oe=parseInt(c.varFieldControlsMargin,10),I=(e.size-1)*e.size*x+(e.size+1)*j,fe=oe+(be+1)*j,le=v-I,M=b-I-fe,ge=Math.floor(Math.min(le/e.size**2,M/(e.size**2+be))),pe=ge*e.size+(e.size-1)*x;return{cellSize:ge,groupSize:pe,size:ge*e.size**2+I}},[e,v,b]),z=o.useMemo(()=>({gridTemplateColumns:`repeat(${e.size}, ${h}px)`,gridTemplateRows:`repeat(${e.size}, ${h}px)`,maxWidth:`${l}px`,maxHeight:`${l}px`}),[e,h,l]),g=o.useMemo(()=>({gridTemplateColumns:`repeat(${e.size}, ${n}px)`,gridTemplateRows:`repeat(${e.size}, ${n}px)`}),[e,n]),[L,m]=o.useState(void 0),p=y((x,j)=>m({row:x,column:j})),$=y(()=>m(void 0)),R=o.useMemo(()=>Ce(e),[e]);return t.jsxs("div",{ref:u,className:c.fieldContainer,children:[t.jsx("div",{className:T(c.field,{[c.fieldCompleted]:R}),style:z,onMouseOut:$,children:t.jsx(ri,{field:e,groupGridStyle:g,cellSize:n,selectedCell:L,tool:a,onOverCell:p,onClickCell:r})}),t.jsx(bi,{field:e,cellSize:n,tool:a,hasHistory:i,onRestorePreviousState:d,onChangeTool:f,onMarkField:s,onRestartGame:_})]})}),pi="_container_10h5b_1",yi={container:pi},ji=o.memo(()=>{const e=me(),a=he(ke),i=he(Oe),d=he($e),r=ze(),{puzzle:f}=Le();o.useEffect(()=>void e(F(f)?Re():Ie(f)),[f,e]);const s=y((h,l)=>e(Pe({row:h,column:l}))),_=y(h=>e(Fe(h))),u=y(()=>e(we())),v=y(({target:{value:h}})=>{const l=_e.getSudoku(h).puzzle.replace(/-/g,"0");r(`/sudoku/${l}`)}),b=y(()=>r("/sudoku")),n=y(()=>e(Ee()));return t.jsx("div",{className:yi.container,children:Se(a,{synced:({value:h})=>t.jsx(_i,{field:h,tool:i,hasHistory:d,onRestorePreviousState:n,onClickCell:s,onChangeTool:_,onMarkField:u,onRestartGame:b}),unsynced:()=>t.jsxs(P.Group,{value:"large",onChange:v,children:[t.jsx(P.Button,{value:"easy",children:"Easy"}),t.jsx(P.Button,{value:"medium",children:"Medium"}),t.jsx(P.Button,{value:"hard",children:"Hard"}),t.jsx(P.Button,{value:"expert",children:"Expert"})]})})})});export{ji as Sudoku};
